{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\brady\\\\Documents\\\\Test Scripts\\\\First React Project\\\\my-app\\\\src\\\\components\\\\SearchBar.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport classes from \"./SearchBar.module.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useRef } from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SearchBar() {\n  _s();\n\n  const searchRef = useRef();\n  const navigate = useNavigate();\n  const [isLoading, setIsLoading] = useState(true);\n  const [loadedCountry, setLoadedCountry] = useState([]);\n  const [suggestedCountry, setSuggestedCountry] = useState([]);\n  const [loadedFlag, setLoadedFlag] = useState([]); // function onSearch(event) {\n  //     event.preventDefault();\n  //     const enteredSearch = searchRef.current.value;\n  //     console.log(enteredSearch)\n  //     navigate('/country', {state: enteredSearch})\n  // }\n\n  function onCountrySelected(country) {\n    navigate('/country', {\n      state: country\n    });\n  }\n\n  const onInputChange = event => {\n    console.log(event.target.value);\n    setSuggestedCountry(loadedCountry.filter(country => country.toLowerCase().includes(event.target.value)));\n  };\n\n  useEffect(() => {\n    const url = \"https://restcountries.com/v3.1/all/\";\n    fetch(url).then(response => {\n      return response.json();\n    }).then(data => {\n      setIsLoading(false);\n      const countryNames = data.map(country => country = country.name.common);\n      const countryFlags = data.map(country => country = country.flags.svg);\n      setLoadedCountry(countryNames);\n      setLoadedFlag(countryFlags);\n    });\n  }, []);\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.searchContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: onInputChange,\n        autoComplete: \"off\",\n        id: \"search\",\n        ref: searchRef,\n        className: classes.searchInput,\n        type: \"text\",\n        placeholder: \"Find a country\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: classes.suggestions,\n      children: suggestedCountry.map(option => {\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onCountrySelected(option),\n          className: classes.dropdownItem,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: loadedFlag[loadedCountry.indexOf(option)]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 29\n          }, this), option]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SearchBar, \"ThdC+OprXlEspWVlMCtjwFASI1E=\", false, function () {\n  return [useNavigate];\n});\n\n_c = SearchBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchBar\");","map":{"version":3,"sources":["C:/Users/brady/Documents/Test Scripts/First React Project/my-app/src/components/SearchBar.js"],"names":["React","classes","useNavigate","useRef","useEffect","useState","SearchBar","searchRef","navigate","isLoading","setIsLoading","loadedCountry","setLoadedCountry","suggestedCountry","setSuggestedCountry","loadedFlag","setLoadedFlag","onCountrySelected","country","state","onInputChange","event","console","log","target","value","filter","toLowerCase","includes","url","fetch","then","response","json","data","countryNames","map","name","common","countryFlags","flags","svg","container","searchContainer","searchInput","suggestions","option","dropdownItem","indexOf"],"mappings":"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","sourcesContent":["import React from \"react\"\r\nimport classes from \"./SearchBar.module.css\"\r\nimport { useNavigate} from \"react-router-dom\";\r\nimport { useRef } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nexport default function SearchBar() {\r\n\r\n    const searchRef = useRef();\r\n    const navigate = useNavigate();\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [loadedCountry, setLoadedCountry] = useState([]);\r\n    const [suggestedCountry, setSuggestedCountry] = useState([]);\r\n    const [loadedFlag, setLoadedFlag] = useState([]);\r\n\r\n    // function onSearch(event) {\r\n    //     event.preventDefault();\r\n    //     const enteredSearch = searchRef.current.value;\r\n    //     console.log(enteredSearch)\r\n    //     navigate('/country', {state: enteredSearch})\r\n    // }\r\n\r\n    function onCountrySelected(country) {\r\n        navigate('/country', {state: country})\r\n    }\r\n\r\n    const onInputChange = (event) => {\r\n        console.log(event.target.value);\r\n        setSuggestedCountry(loadedCountry.filter((country) =>\r\n            country.toLowerCase().includes(event.target.value)))\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        const url = \"https://restcountries.com/v3.1/all/\"\r\n        fetch(url ,\r\n        ).then(response => {\r\n            return response.json();\r\n        }).then(data => {\r\n            setIsLoading(false);\r\n\r\n            const countryNames = data.map((country) => country = country.name.common)\r\n            const countryFlags = data.map((country) => country = country.flags.svg)\r\n            setLoadedCountry(countryNames)\r\n            setLoadedFlag(countryFlags)\r\n            });\r\n    }, []);\r\n\r\n    if(isLoading) {\r\n        return(\r\n            <p>Loading...</p>\r\n        )\r\n    }\r\n\r\n    return(\r\n        <div className={classes.container}>\r\n            <div className={classes.searchContainer}>\r\n                <input onChange={onInputChange} autoComplete=\"off\" id=\"search\" ref={searchRef} className={classes.searchInput} type=\"text\" placeholder=\"Find a country\"></input>\r\n                <span>\r\n                    <img src=\"\" alt=\"\"></img>\r\n                </span>\r\n                {/* <button onClick={onSearch}>Search</button> */}\r\n            </div>\r\n            <ul className={classes.suggestions}>\r\n                {suggestedCountry.map((option) => {\r\n                    return(\r\n                        <button onClick={() => onCountrySelected(option)} className={classes.dropdownItem}>\r\n                            <img src={loadedFlag[loadedCountry.indexOf(option)]}></img>\r\n                            {option}\r\n                        </button>\r\n                    )\r\n                })}\r\n            </ul>\r\n\r\n                \r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}