{"ast":null,"code":"import _slicedToArray from\"C:/Users/brady/Documents/Test Scripts/First React Project/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import classes from\"./SearchBar.module.css\";import{useNavigate}from\"react-router-dom\";import{useRef}from\"react\";import{useEffect}from\"react\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SearchBar(){var searchRef=useRef();var navigate=useNavigate();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),loadedCountry=_useState4[0],setLoadedCountry=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),suggestedCountry=_useState6[0],setSuggestedCountry=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),loadedFlag=_useState8[0],setLoadedFlag=_useState8[1];// function onSearch(event) {\n//     event.preventDefault();\n//     const enteredSearch = searchRef.current.value;\n//     console.log(enteredSearch)\n//     navigate('/country', {state: enteredSearch})\n// }\nfunction onCountrySelected(country){navigate(\"/country\",{state:country});}var onInputChange=function onInputChange(event){if(event.target.value!==\"\")setSuggestedCountry(loadedCountry.filter(function(country){return country.toLowerCase().includes(event.target.value.toLowerCase());}));else setSuggestedCountry([]);};useEffect(function(){var url=\"https://restcountries.com/v3.1/all/\";fetch(url).then(function(response){return response.json();}).then(function(data){setIsLoading(false);var countryNames=data.map(function(country){return country=country.name.common;});var countryFlags=data.map(function(country){return country=country.flags.svg;});setLoadedCountry(countryNames);setLoadedFlag(countryFlags);});},[]);if(isLoading){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:classes.container,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.searchContainer,children:[/*#__PURE__*/_jsx(\"input\",{onChange:onInputChange,autoComplete:\"off\",id:\"search\",ref:searchRef,className:classes.searchInput,type:\"text\",placeholder:\"Find a country\"}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"img\",{src:\"\",alt:\"\"})})]}),/*#__PURE__*/_jsx(\"ul\",{className:classes.suggestions,children:suggestedCountry.map(function(option){return/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return onCountrySelected(option);},className:classes.dropdownItem,children:[/*#__PURE__*/_jsx(\"img\",{src:loadedFlag[loadedCountry.indexOf(option)]}),option]});})})]});}","map":{"version":3,"sources":["C:/Users/brady/Documents/Test Scripts/First React Project/my-app/src/components/SearchBar.js"],"names":["React","classes","useNavigate","useRef","useEffect","useState","SearchBar","searchRef","navigate","isLoading","setIsLoading","loadedCountry","setLoadedCountry","suggestedCountry","setSuggestedCountry","loadedFlag","setLoadedFlag","onCountrySelected","country","state","onInputChange","event","target","value","filter","toLowerCase","includes","url","fetch","then","response","json","data","countryNames","map","name","common","countryFlags","flags","svg","container","searchContainer","searchInput","suggestions","option","dropdownItem","indexOf"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport classes from \"./SearchBar.module.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useRef } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nexport default function SearchBar() {\r\n\tconst searchRef = useRef();\r\n\tconst navigate = useNavigate();\r\n\tconst [isLoading, setIsLoading] = useState(true);\r\n\tconst [loadedCountry, setLoadedCountry] = useState([]);\r\n\tconst [suggestedCountry, setSuggestedCountry] = useState([]);\r\n\tconst [loadedFlag, setLoadedFlag] = useState([]);\r\n\r\n\t// function onSearch(event) {\r\n\t//     event.preventDefault();\r\n\t//     const enteredSearch = searchRef.current.value;\r\n\t//     console.log(enteredSearch)\r\n\t//     navigate('/country', {state: enteredSearch})\r\n\t// }\r\n\r\n\tfunction onCountrySelected(country) {\r\n\t\tnavigate(\"/country\", { state: country });\r\n\t}\r\n\r\n\tconst onInputChange = (event) => {\r\n\t\tif (event.target.value !== \"\")\r\n\t\t\tsetSuggestedCountry(\r\n\t\t\t\tloadedCountry.filter((country) =>\r\n\t\t\t\t\tcountry.toLowerCase().includes(event.target.value.toLowerCase())\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\telse setSuggestedCountry([]);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst url = \"https://restcountries.com/v3.1/all/\";\r\n\t\tfetch(url)\r\n\t\t\t.then((response) => {\r\n\t\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t.then((data) => {\r\n\t\t\t\tsetIsLoading(false);\r\n\r\n\t\t\t\tconst countryNames = data.map(\r\n\t\t\t\t\t(country) => (country = country.name.common)\r\n\t\t\t\t);\r\n\t\t\t\tconst countryFlags = data.map(\r\n\t\t\t\t\t(country) => (country = country.flags.svg)\r\n\t\t\t\t);\r\n\t\t\t\tsetLoadedCountry(countryNames);\r\n\t\t\t\tsetLoadedFlag(countryFlags);\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tif (isLoading) {\r\n\t\treturn <p>Loading...</p>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={classes.container}>\r\n\t\t\t<div className={classes.searchContainer}>\r\n\t\t\t\t<input\r\n\t\t\t\t\tonChange={onInputChange}\r\n\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\tid=\"search\"\r\n\t\t\t\t\tref={searchRef}\r\n\t\t\t\t\tclassName={classes.searchInput}\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tplaceholder=\"Find a country\"\r\n\t\t\t\t></input>\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<img src=\"\" alt=\"\"></img>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<ul className={classes.suggestions}>\r\n\t\t\t\t{suggestedCountry.map((option) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={() => onCountrySelected(option)}\r\n\t\t\t\t\t\t\tclassName={classes.dropdownItem}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<img src={loadedFlag[loadedCountry.indexOf(option)]}></img>\r\n\t\t\t\t\t\t\t{option}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}